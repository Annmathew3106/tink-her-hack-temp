<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Notices - Campus Portal</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Syne:wght@700;800&display=swap" rel="stylesheet">

<link rel="stylesheet" href="home.css">
<link rel="stylesheet" href="notice.css">
</head>

<body>

<div class="layout">

    <!-- Sidebar -->
    <div class="sidebar">
        <h2 class="logo">CampusConnect</h2>
        <ul class="nav-links">
            <li><a href="home.html">Dashboard</a></li>
            <li><a href="lost.html">Lost & Found</a></li>
            <li><a href="notice.html" class="active">Notices & Announcements</a></li>
            <li><a href="doubts.html">Doubts</a></li>
        </ul>
    </div>

    <!-- Main -->
    <div class="main-content">

        <div class="notice-top-bar">
            <h1>Notices & Announcements</h1>
            <a href="create-post.html" class="create-post-btn">+ Create Post</a>
        </div>

        <!-- Tabs -->
        <div class="notice-tabs">
            <button class="tab-btn active"
                onclick="showTab('notices',this)">Notices</button>

            <button class="tab-btn"
                onclick="showTab('announcements',this)">
                Announcements
            </button>
        </div>

        <!-- Notices -->
        <div id="notices" class="tab-content active">
            <h2>Official Notices</h2>
            <div class="notice-container">

                <div class="notice-card urgent">
                    <div class="notice-header">
                        <h3>Mid-Sem Exam Schedule Released</h3>
                        <span class="priority-badge urgent">Urgent</span>
                    </div>
                    <p class="notice-meta">Exam Cell | Feb 20, 2026</p>
                    <p class="notice-description">
                        Semester exam timetable released.
                    </p>
                </div>

            </div>
        </div>

        <!-- Announcements -->
        <div id="announcements" class="tab-content">
            <h2>Campus Announcements</h2>
            <div class="announcement-container">

                <div class="announcement-card">
                    <div class="announcement-header">
                        <h3>Web Development Workshop</h3>
                        <span class="announcement-icon">ðŸŽ“</span>
                    </div>
                    <p class="announcement-meta">
                        Tech Community | Feb 16, 2026
                    </p>
                    <p class="announcement-description">
                        React & Node workshop.
                    </p>
                </div>

            </div>
        </div>

    </div>
</div>

<script>

// ---------- TAB SWITCH ----------
function showTab(tabName, btn) {

    document.querySelectorAll('.tab-content')
        .forEach(t => t.classList.remove('active'));

    document.querySelectorAll('.tab-btn')
        .forEach(b => b.classList.remove('active'));

    document.getElementById(tabName)
        .classList.add('active');

    btn.classList.add('active');
}


// ---------- LOAD POSTS ----------
function loadPosts() {

    const posts =
        JSON.parse(localStorage.getItem('campusPosts')) || [];

    const noticeContainer =
        document.querySelector('.notice-container');

    const announcementContainer =
        document.querySelector('.announcement-container');

    posts.forEach(post => {

        if (post.type === "notice") {

            const card = document.createElement('div');
            card.className = `notice-card ${post.priority}`;

            card.innerHTML = `
                <div class="notice-header">
                    <h3>${post.title}</h3>
                    <span class="priority-badge ${post.priority}">
                        ${post.priority}
                    </span>
                </div>
                <p class="notice-meta">${post.source} | ${post.date}</p>
                <p class="notice-description">${post.description}</p>
            `;

            noticeContainer.prepend(card);
        }

        else {

            const card = document.createElement('div');
            card.className = "announcement-card";

            card.innerHTML = `
                <div class="announcement-header">
                    <h3>${post.title}</h3>
                    <span class="announcement-icon">${post.icon}</span>
                </div>
                <p class="announcement-meta">${post.source} | ${post.date}</p>
                <p class="announcement-description">${post.description}</p>
            `;

            announcementContainer.prepend(card);
        }

    });
}

loadPosts();

</script>

</body>
</html>